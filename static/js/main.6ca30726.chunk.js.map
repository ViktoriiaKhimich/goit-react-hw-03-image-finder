{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/SearchBar/SearchBar.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services/image-api.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","Spinner","style","textAlign","type","color","height","width","timeout","ImageGalleryItem","webformatURL","onClick","largeImageURL","tags","className","styles","src","alt","ImageGalleryItemImage","ImageGallery","images","imagesElements","map","id","props","SearchBar","state","query","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","onSubmit","reset","this","Searchbar","SearchForm","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","Button","children","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackDropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","page","searchQuery","axios","get","then","response","data","hits","App","isLoading","error","showModal","activeImg","listRef","createRef","toggleModal","onChangeQuery","fetchImages","imageApi","prevState","catch","finally","prevProps","length","current","scrollHeight","snapshot","scrollTo","top","behavior","shouldRenderLoadMoreButton","ref","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6ca30726.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React from 'react';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nconst Spinner = () => {\n    return (<Loader style={{ textAlign: \"center\" }} type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} timeout={3000} />);\n}\n\nexport default Spinner;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css'\n\nconst ImageGalleryItem = ({ webformatURL, onClick, largeImageURL, tags }) => {\n    return (\n        <li className={styles.ImageGalleryItem}>\n            <img src={webformatURL} alt={tags} className={styles.ImageGalleryItemImage} onClick={() => onClick(largeImageURL)} />\n        </li>\n    );\n}\n\nImageGalleryItem.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default ImageGalleryItem;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem'\nimport styles from './ImageGallery.module.css'\n\nconst ImageGallery = ({ images, onClick }) => {\n    const imagesElements = images.map(({ id, ...props }) => <ImageGalleryItem key={id} {...props} onClick={onClick} />)\n    return (\n        <ul className={styles.ImageGallery}>\n            {imagesElements}\n        </ul>\n    );\n}\n\nImageGallery.propTypes = {\n    images: PropTypes.array.isRequired,\n    onClick: PropTypes.func.isRequired\n}\nexport default ImageGallery;","import { Component } from 'react';\n\nimport styles from './SearchBar.module.css'\n\nclass SearchBar extends Component {\n\n    state = {\n        query: ''\n    }\n\n    handleChange = (e) => {\n        const { name, value } = e.target;\n        this.setState({\n            [name]: value,\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.query)\n        this.reset()\n    }\n\n    reset = () => {\n        this.setState({\n            query: \"\"\n        })\n    }\n\n\n    render() {\n\n        const { query } = this.state;\n        const { handleChange, handleSubmit } = this;\n\n        return (\n            <header className={styles.Searchbar}>\n                <form onSubmit={handleSubmit} className={styles.SearchForm}>\n                    <button type=\"submit\" className={styles.SearchFormButton}>\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\n                    </button>\n\n                    <input\n                        name='query'\n                        value={query}\n                        onChange={handleChange}\n                        className={styles.SearchFormInput}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                    />\n                </form>\n            </header>\n        );\n    }\n\n}\n\nexport default SearchBar;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Button.module.css'\n\nconst Button = ({ onClick, children }) => {\n    return (\n        <button onClick={onClick} type=\"submit\" className={styles.Button}>{children}</button>\n    );\n}\n\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n    children: PropTypes.string.isRequired\n}\nexport default Button;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom'\nimport styles from './Modal.module.css'\n\nconst modalRoot = document.querySelector('#modal-root')\n\nclass Modal extends Component {\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeydown)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeydown)\n    }\n\n    handleKeydown = e => {\n        if (e.code === 'Escape') {\n            this.props.onClose()\n        }\n    }\n\n    handleBackDropClick = (e) => {\n        if (e.target === e.currentTarget) {\n            this.props.onClose()\n        }\n    }\n\n    render() {\n        return createPortal\n            (\n                <div className={styles.Overlay} onClick={this.handleBackDropClick}>\n                    <div className={styles.Modal}>\n                        {this.props.children}\n                    </div>\n                </div>,\n                modalRoot,\n            );\n    }\n}\n\nexport default Modal;","import axios from 'axios';\n\n\nconst fetchImages = (page = 1, searchQuery = '') => {\n    return axios\n    .get(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&key=20961462-909795e71f735a58f24820845&per_page=12`)\n    .then(response => response.data.hits)\n}\n\nexport default {fetchImages}","import React, { Component, createRef } from 'react';\n\nimport Spinner from './components/Loader';\nimport ImageGallery from './components/ImageGallery'\nimport SearchBar from './components/SearchBar'\nimport Button from './components/Button'\nimport Modal from './components/Modal'\n\nimport imageApi from './services/image-api'\n\n// listRef = React.createRef();\n\nclass App extends Component {\n\n  state = {\n    images: [],\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    page: 1,\n    showModal: false,\n    activeImg: \"\"\n  }\n\n  listRef = createRef()\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (prevState.images.length < this.state.images.length) {\n      const { current } = this.listRef;\n      return current.scrollHeight;\n    }\n    return null;\n\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n    if (snapshot !== null) {\n      window.scrollTo({\n        top: snapshot,\n        behavior: 'smooth'\n      })\n    }\n  }\n\n\n  toggleModal = (src) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      activeImg: src\n    }))\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n      error: null,\n    })\n  }\n\n  fetchImages = () => {\n    const { page, searchQuery } = this.state;\n\n    this.setState({\n      isLoading: true\n    })\n\n    imageApi.fetchImages(page, searchQuery)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n          isLoading: false,\n        }))\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }))\n\n  }\n\n  render() {\n\n    const { images, isLoading, error, showModal, activeImg } = this.state;\n    const { onChangeQuery, fetchImages, listRef, toggleModal } = this;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n\n    return (\n      <>\n        <SearchBar onSubmit={onChangeQuery} />\n        {error && <h2 style={{ color: \"red\", textAlign: \"center\" }}>Sorry, there must be some problem on a server!</h2>}\n\n        <div ref={listRef}>\n          <ImageGallery images={images} onClick={toggleModal} />\n        </div>\n\n        {isLoading &&\n          <Spinner />}\n\n        {shouldRenderLoadMoreButton &&\n          <Button onClick={fetchImages}>\n            Load more\n          </Button>}\n\n        {showModal && <Modal onClose={toggleModal}>\n          <img src={activeImg} alt=\"\" /></Modal>}\n\n      </>\n    );\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3W9N5\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2bY4N\",\"SearchFormInput\":\"SearchBar_SearchFormInput__17jtp\"};"],"sourceRoot":""}